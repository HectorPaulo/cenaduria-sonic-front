<ion-content [fullscreen]="true" class="ion-padding">
  <div class="registro-container">
    <div class="logo-section">
      <h1>CenaduriaSonic</h1>
      <p>Inicia sesión en tu cuenta</p>
    </div>

    <div class="form-section">
      <!-- Card informativo con credenciales de prueba -->
      <!-- <ion-card class="info-card" color="light">
        <ion-card-header>
          <ion-card-title>
            <ion-icon name="information-circle" color="primary"></ion-icon>
            Credenciales de Prueba
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <div class="credentials-info">
            <p><strong>Cliente:</strong> cliente | Cliente123!</p>
            <p><strong>Empleado:</strong> empleado | Empleado123!</p>
            <p><strong>Admin:</strong> admin | Admin123!</p>
          </div>
        </ion-card-content>
      </ion-card> -->

      <ion-card class="registro-card">
        <ion-card-header>
          <ion-card-title>Iniciar Sesión</ion-card-title>
          <ion-card-subtitle
            >Ingresa tus credenciales para acceder</ion-card-subtitle
          >
        </ion-card-header>

        <ion-card-content>
          <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
            <ion-item [class.error-item]="isFieldInvalid('username')">
              <ion-icon name="person" slot="start" color="primary"></ion-icon>
              <ion-input
                formControlName="username"
                label="Nombre de usuario"
                labelPlacement="floating"
                placeholder="tu nombre de usuario"
                type="text"
              ></ion-input>
            </ion-item>
            @if (isFieldInvalid('username')) {

              <ion-text
              color="danger"
              class="error-text"
              >
              {{ getUsernameErrorMessage() }}
            </ion-text>
          }
            <ion-item [class.error-item]="isFieldInvalid('password')">
              <ion-icon name="key" slot="start" color="primary"></ion-icon>
              <ion-input
                formControlName="password"
                label="Contraseña"
                labelPlacement="floating"
                placeholder="Tu contraseña"
                type="text"
              ></ion-input>
            </ion-item>
            @if (isFieldInvalid('password')) {
              <ion-text
              color="danger"
              class="error-text"
              >
              {{ getPasswordErrorMessage() }}
            </ion-text>
          }

            <div style="text-align: right; margin: 10px 0">
              <ion-button
                fill="clear"
                size="small"
                (click)="onForgotPassword()"
              >
                ¿Olvidaste tu contraseña?
              </ion-button>
            </div>

            <div class="button-section">
              <ion-button
                expand="block"
                type="submit"
                class="registro-button"
                [disabled]="!isFormValid()"
              >
                <ion-icon name="log-in" slot="start"></ion-icon>
                Iniciar Sesión
              </ion-button>

              <ion-button
                expand="block"
                fill="outline"
                color="medium"
                class="login-button"
                type="button"
                (click)="goToRegister()"
              >
                <ion-icon name="person-add" slot="start"></ion-icon>
                Crear cuenta nueva
              </ion-button>
            </div>
          </form>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>
