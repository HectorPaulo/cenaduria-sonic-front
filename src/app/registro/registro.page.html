<ion-content [fullscreen]="true" class="ion-padding">
  <div class="registro-container">
    <div class="logo-section">
      <h1>CenaduriaSonic</h1>
      <p>Crea tu cuenta</p>
    </div>

    <div class="form-section">
      <ion-card class="registro-card">
        <ion-card-header>
          <ion-card-title>Registro de Usuario</ion-card-title>
          <ion-card-subtitle
            >Completa tus datos para crear una cuenta</ion-card-subtitle
          >
        </ion-card-header>

        <ion-card-content>
          <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
            <!-- Username -->
            <ion-item [class.error-item]="isFieldInvalid('username')">
              <ion-icon name="person" slot="start" color="primary"></ion-icon>
              <ion-input
                formControlName="username"
                label="Usuario (username)"
                labelPlacement="floating"
                placeholder="usuario_ejemplo"
              ></ion-input>
            </ion-item>
            <ion-text
              color="danger"
              class="error-text"
              *ngIf="isFieldInvalid('username')"
            >
              {{ getUsernameErrorMessage() }}
            </ion-text>

            <!-- Email -->
            <ion-item [class.error-item]="isFieldInvalid('email')">
              <ion-icon name="mail" slot="start" color="primary"></ion-icon>
              <ion-input
                formControlName="email"
                label="Correo electrónico"
                labelPlacement="floating"
                placeholder="ejemplo@correo.com"
                type="email"
              ></ion-input>
            </ion-item>
            <ion-text
              color="danger"
              class="error-text"
              *ngIf="isFieldInvalid('email')"
            >
              {{ getEmailErrorMessage() }}
            </ion-text>

            <!-- Contraseña -->
            <ion-item [class.error-item]="isFieldInvalid('password')">
              <ion-icon name="key" slot="start" color="primary"></ion-icon>
              <ion-input
                formControlName="password"
                label="Contraseña"
                labelPlacement="floating"
                placeholder="Mínimo 8 caracteres"
                type="password"
              ></ion-input>
            </ion-item>
            <ion-text
              color="danger"
              class="error-text"
              *ngIf="isFieldInvalid('password')"
            >
              {{ getPasswordErrorMessage() }}
            </ion-text>

            <!-- Confirmar contraseña -->
            <ion-item [class.error-item]="isFieldInvalid('confirmPassword')">
              <ion-icon name="key" slot="start" color="primary"></ion-icon>
              <ion-input
                formControlName="confirmPassword"
                label="Confirmar contraseña"
                labelPlacement="floating"
                placeholder="Repite tu contraseña"
                type="password"
              ></ion-input>
            </ion-item>
            <ion-text
              color="danger"
              class="error-text"
              *ngIf="isFieldInvalid('confirmPassword')"
            >
              {{ getConfirmPasswordErrorMessage() }}
            </ion-text>

            <!-- Botones -->
            <div class="button-section">
              <ion-button
                expand="block"
                type="submit"
                class="registro-button"
                [disabled]="!isFormValid()"
              >
                <ion-icon name="person-add" slot="start"></ion-icon>
                Crear cuenta
              </ion-button>

              <ion-button
                expand="block"
                fill="outline"
                color="medium"
                class="login-button"
                type="button"
                (click)="goToLogin()"
              >
                <ion-icon name="log-in" slot="start"></ion-icon>
                Ya tengo cuenta
              </ion-button>
            </div>
          </form>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>
